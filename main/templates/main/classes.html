{% extends 'main/base.html' %}
{% block title %}Classes{% endblock %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/facilities.css' %}">
    <title>Classes</title>
    <style>
        /* CSS for hiding the reservation form initially */
        .reservation-form {
            display: none;
        }
    </style>
</head>
<body>
    <div class="content">
        <!-- Add any content you want to display over the background image -->
        <h2>Welcome to classes reservation</h2>
        <p>Classes reservation</p>
    </div>
    <div class="container">
        <div class="class-item">
            <span>CNM1001</span>
            <div class="right-section">
                <p class="availability">Available</p>
                {% if user.is_authenticated %}
                <button class="reserve" onclick="showReservationForm('form1')">Reserve</button>
                {% else %}
                <button class="reserve" onclick="alert('Please login to reserve.');">Reserve</button>
                {% endif %}
            </div>
        </div>
        <div class="class-item">
            <span>CNM1002</span>
            <div class="right-section">
                <p class="availability">Available</p>
                {% if user.is_authenticated %}
                <button class="reserve" onclick="showReservationForm('form2')">Reserve</button>
                {% else %}
                <button class="reserve" onclick="alert('Please login to reserve.');">Reserve</button>
                {% endif %}
            </div>
        </div>
        <div class="class-item">
            <span>CNM1003</span>
            <div class="right-section">
                <p class="availability">Available</p>
                {% if user.is_authenticated %}
                <button class="reserve" onclick="showReservationForm('form3')">Reserve</button>
                {% else %}
                <button class="reserve" onclick="alert('Please login to reserve.');">Reserve</button>
                {% endif %}
            </div>
        </div>
        <div class="class-item">
            <span>CNM1004</span>
            <div class="right-section">
                <p class="availability">Available</p>
                {% if user.is_authenticated %}
                <button class="reserve" onclick="showReservationForm('form4')">Reserve</button>
                {% else %}
                <button class="reserve" onclick="alert('Please login to reserve.');">Reserve</button>
                {% endif %}
            </div>
        </div>
    </div>

    <div id="form1" class="reservation-form">
        {% if user.is_authenticated %}
        <!-- Display reservation form only if user is authenticated -->
        <form action="{% url 'reservations' %}" method="post">
            {% csrf_token %}
            <label for="class_code">Facility Code:</label><br>
            <input type="text" id="class_code" name="class_code" required><br><br>
    
            <label for="date">Date of Reservation:</label><br>
            <input type="date" id="date" name="date" required><br><br>
    
            <label for="time">Begin time of Reservation:</label><br>
            <input type="time" id="time" name="time" required><br><br>
    
            <label for="end_time">End time of Reservation:</label><br>
            <input type="time" id="end_time" name="end_time" required><br><br>
    
            <label for="guests">Number of Guests:</label><br>
            <input type="number" id="guests" name="guests" min="1" required><br><br>
    
            <label for="special_requests">Special Requests:</label><br>
            <textarea id="special_requests" name="special_requests" rows="4" cols="50"></textarea><br><br>
    
            <input type="submit" value="Submit">
        </form>
        {% else %}
        <!-- Optionally display a message or redirect to login page -->
        <p>Please log in to make a reservation.</p>
        {% endif %}
    </div>

    </div>
    <div id="form2" class="reservation-form">
        {% if user.is_authenticated %}
        <!-- Display reservation form only if user is authenticated -->
        <form action="{% url 'reservations' %}" method="post">
            {% csrf_token %}
            <label for="class_code">Facility Code:</label><br>
            <input type="text" id="class_code" name="class_code" required><br><br>
    
            <label for="date">Date of Reservation:</label><br>
            <input type="date" id="date" name="date" required><br><br>
    
            <label for="time">Begin time of Reservation:</label><br>
            <input type="time" id="time" name="time" required><br><br>
    
            <label for="end_time">End time of Reservation:</label><br>
            <input type="time" id="end_time" name="end_time" required><br><br>
    
            <label for="guests">Number of Guests:</label><br>
            <input type="number" id="guests" name="guests" min="1" required><br><br>
    
            <label for="special_requests">Special Requests:</label><br>
            <textarea id="special_requests" name="special_requests" rows="4" cols="50"></textarea><br><br>
    
            <input type="submit" value="Submit">
        </form>
        {% else %}
        <!-- Optionally display a message or redirect to login page -->
        <p>Please log in to make a reservation.</p>
        {% endif %}
    </div>
    <div id="form3" class="reservation-form">
        {% if user.is_authenticated %}
        <!-- Display reservation form only if user is authenticated -->
        <form action="{% url 'reservations' %}" method="post">
            {% csrf_token %}
            <label for="class_code">Facility Code:</label><br>
            <input type="text" id="class_code" name="class_code" required><br><br>
    
            <label for="date">Date of Reservation:</label><br>
            <input type="date" id="date" name="date" required><br><br>
    
            <label for="time">Begin time of Reservation:</label><br>
            <input type="time" id="time" name="time" required><br><br>
    
            <label for="end_time">End time of Reservation:</label><br>
            <input type="time" id="end_time" name="end_time" required><br><br>
    
            <label for="guests">Number of Guests:</label><br>
            <input type="number" id="guests" name="guests" min="1" required><br><br>
    
            <label for="special_requests">Special Requests:</label><br>
            <textarea id="special_requests" name="special_requests" rows="4" cols="50"></textarea><br><br>
    
            <input type="submit" value="Submit">
        </form>
        {% else %}
        <!-- Optionally display a message or redirect to login page -->
        <p>Please log in to make a reservation.</p>
        {% endif %}
    </div>
    <div id="form4" class="reservation-form">
        {% if user.is_authenticated %}
        <!-- Display reservation form only if user is authenticated -->
        <form action="{% url 'reservations' %}" method="post">
            {% csrf_token %}
            <label for="class_code">Facility Code:</label><br>
            <input type="text" id="class_code" name="class_code" required><br><br>
    
            <label for="date">Date of Reservation:</label><br>
            <input type="date" id="date" name="date" required><br><br>
    
            <label for="time">Begin time of Reservation:</label><br>
            <input type="time" id="time" name="time" required><br><br>
    
            <label for="end_time">End time of Reservation:</label><br>
            <input type="time" id="end_time" name="end_time" required><br><br>
    
            <label for="guests">Number of Guests:</label><br>
            <input type="number" id="guests" name="guests" min="1" required><br><br>
    
            <label for="special_requests">Special Requests:</label><br>
            <textarea id="special_requests" name="special_requests" rows="4" cols="50"></textarea><br><br>
    
            <input type="submit" value="Submit">
        </form>
        {% else %}
        <!-- Optionally display a message or redirect to login page -->
        <p>Please log in to make a reservation.</p>
        {% endif %}
    </div>

    <a href="{% url 'facilities' %}"><button class="back-button">Back</button></a>

    <script>
        function showReservationForm(formId) {
            // Hide all reservation forms
            var forms = document.getElementsByClassName("reservation-form");
            for (var i = 0; i < forms.length; i++) {
                forms[i].style.display = "none";
            }
            
            // Show the selected reservation form
            var selectedForm = document.getElementById(formId);
            if (selectedForm) {
                selectedForm.style.display = "block";
            }
        }
    </script>
{% endblock %}
</body>
</html>
